{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nithin.reddy/Documents/GitHub/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nithin.reddy/Documents/GitHub/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/nithin.reddy/Documents/GitHub/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nithin.reddy/Documents/GitHub/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nithin.reddy/Documents/GitHub/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nithin.reddy/Documents/GitHub/react-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import gameserver from'../apis/gameserver';import{saveUser}from'../actions/useraction';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import GoogleAuth from'./googleAuth';import LoginFormComponent from'./loginFormComponent';import Modal from'./modal';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={errorMessage:\"\"};_this.login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username,password){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return gameserver.post(\"/login\",{playerName:username,password:password});case 2:response=_context.sent;console.log(response);if(response!=null&response.data.status==\"Success\"){_this.props.saveUser(username,response.data.token);}else{_this.setState({errorMessage:\"Invalid Credentials\"});}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.match){console.log(this.props.match);}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Login\"),/*#__PURE__*/React.createElement(LoginFormComponent,{onLoginClick:this.login}),/*#__PURE__*/React.createElement(\"div\",{style:{color:\"red\"}},this.state.errorMessage));}}]);return Login;}(React.Component);var mapStateToProps=function mapStateToProps(state,ownProps){console.log(ownProps);return{};};export default connect(mapStateToProps,{saveUser:saveUser})(Login);","map":{"version":3,"sources":["/Users/nithin.reddy/Documents/GitHub/react-game/src/components/login.js"],"names":["React","gameserver","saveUser","connect","Redirect","GoogleAuth","LoginFormComponent","Modal","Login","state","errorMessage","login","username","password","post","playerName","response","console","log","data","status","props","token","setState","match","color","Component","mapStateToProps","ownProps"],"mappings":"i9BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,CACA,OAASC,QAAT,KAAyB,uBAAzB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,GAEMC,CAAAA,K,mUAEFC,K,CAAQ,CAACC,YAAY,CAAG,EAAhB,C,OAQRC,K,0FAAQ,iBAAOC,QAAP,CAAgBC,QAAhB,qJAEiBZ,CAAAA,UAAU,CAACa,IAAX,CAAgB,QAAhB,CAAyB,CACtCC,UAAU,CAACH,QAD2B,CAEzCC,QAAQ,CAACA,QAFgC,CAAzB,CAFjB,QAEAG,QAFA,eAOJC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,GAAGA,QAAQ,EAAI,IAAZ,CAAmBA,QAAQ,CAACG,IAAT,CAAcC,MAAd,EAAuB,SAA7C,CAAuD,CACnD,MAAKC,KAAL,CAAWnB,QAAX,CAAoBU,QAApB,CAA8BI,QAAQ,CAACG,IAAT,CAAcG,KAA5C,EACH,CAFD,IAEK,CACD,MAAKC,QAAL,CAAc,CACVb,YAAY,CAAG,qBADL,CAAd,EAGH,CAdG,sD,gKAPW,CAEf,GAAG,KAAKW,KAAL,CAAWG,KAAd,CAAoB,CAChBP,OAAO,CAACC,GAAR,CAAY,KAAKG,KAAL,CAAWG,KAAvB,EACH,CACJ,C,uCAmBO,CACJ,mBAAO,4CACH,sCADG,cAEH,oBAAC,kBAAD,EAAoB,YAAY,CAAE,KAAKb,KAAvC,EAFG,cAGH,2BAAK,KAAK,CAAE,CAACc,KAAK,CAAC,KAAP,CAAZ,EAA4B,KAAKhB,KAAL,CAAWC,YAAvC,CAHG,CAAP,CAOH,C,mBAnCeV,KAAK,CAAC0B,S,EAuC1B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAClB,KAAD,CAAQmB,QAAR,CAAqB,CACzCX,OAAO,CAACC,GAAR,CAAYU,QAAZ,EACA,MAAO,EAAP,CAGH,CALD,CAOA,cAAezB,CAAAA,OAAO,CAACwB,eAAD,CAAiB,CAACzB,QAAQ,CAARA,QAAD,CAAjB,CAAP,CAAoCM,KAApC,CAAf","sourcesContent":["import React from 'react'\nimport gameserver from '../apis/gameserver'\nimport { saveUser } from '../actions/useraction'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport GoogleAuth from './googleAuth'\nimport LoginFormComponent from './loginFormComponent'\nimport Modal from './modal'\n\nclass Login extends React.Component{\n    \n    state = {errorMessage : \"\"}\n    componentDidMount(){\n        \n        if(this.props.match){\n            console.log(this.props.match)\n        }\n    }\n\n    login = async (username,password) => {\n        \n        let response = await gameserver.post(\"/login\",{\n                playerName:username,\n\t            password:password\n        })\n\n        console.log(response)\n        if(response != null & response.data.status== \"Success\"){\n            this.props.saveUser(username, response.data.token)\n        }else{\n            this.setState({\n                errorMessage : \"Invalid Credentials\"\n            })\n        }\n    }\n\n    render(){\n        return <div>\n            <h2>Login</h2>\n            <LoginFormComponent onLoginClick={this.login}/>\n            <div style={{color:\"red\"}}>{this.state.errorMessage}</div>\n            {/* <GoogleAuth /> */}\n        </div>\n\n    }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    console.log(ownProps)\n    return {\n       \n    };\n}\n\nexport default connect(mapStateToProps,{saveUser})(Login);"]},"metadata":{},"sourceType":"module"}