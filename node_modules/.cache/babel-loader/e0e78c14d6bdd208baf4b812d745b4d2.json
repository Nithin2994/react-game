{"ast":null,"code":"import gameserver from '../apis/gameserver';\nexport const saveUser = (username, token) => {\n  return {\n    type: \"SAVE_USER\",\n    payload: {\n      username: username,\n      token: token\n    }\n  };\n};\nexport const loadLeaderboards = () => async dispatch => {\n  const response = await gameserver.get('/leaderboard');\n  dispatch({\n    type: \"LOAD_LEADERBOARDS\",\n    payload: {\n      leaderboards: response.data.leaderboards\n    }\n  });\n};\nexport const loadLeaderboardData = leaderboardId => async dispatch => {\n  console.log(\"action :\" + leaderboardId);\n  const response = await gameserver.get('/leaderboard/' + leaderboardId);\n  dispatch({\n    type: \"LOAD_LEADERBOARDS_DATA\",\n    payload: {\n      leaderboardsData: response.data,\n      leaderboardId: leaderboardId\n    }\n  });\n};\nexport const updateScore = (leaderboard, player, score) => async dispatch => {\n  const response = await gameserver.post('/leaderboard/' + leaderboard + '/addScore', {\n    name: player,\n    score: score\n  });\n\n  if (response != null && response.data.state == \"Success\") {\n    dispatch({\n      type: \"UPDATE_SCORE\",\n      payload: {\n        score: score\n      }\n    });\n  } else if (response != null && response.data.state == \"Failed\") {\n    dispatch({\n      type: \"SHOW_SCORE_ERROR\",\n      payload: {\n        message: \"error in updating score\"\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/nithin.reddy/Documents/react/myapp/src/actions/useraction.js"],"names":["gameserver","saveUser","username","token","type","payload","loadLeaderboards","dispatch","response","get","leaderboards","data","loadLeaderboardData","leaderboardId","console","log","leaderboardsData","updateScore","leaderboard","player","score","post","name","state","message"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,oBAAvB;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACzC,SAAO;AACHC,IAAAA,IAAI,EAAG,WADJ;AAEHC,IAAAA,OAAO,EAAG;AACNH,MAAAA,QAAQ,EAAGA,QADL;AAENC,MAAAA,KAAK,EAAGA;AAFF;AAFP,GAAP;AAOH,CARM;AAUP,OAAO,MAAMG,gBAAgB,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACtD,QAAMC,QAAQ,GAAG,MAAMR,UAAU,CAACS,GAAX,CAAe,cAAf,CAAvB;AACAF,EAAAA,QAAQ,CAAC;AACLH,IAAAA,IAAI,EAAG,mBADF;AAELC,IAAAA,OAAO,EAAG;AACNK,MAAAA,YAAY,EAAGF,QAAQ,CAACG,IAAT,CAAcD;AADvB;AAFL,GAAD,CAAR;AAMH,CARM;AAWP,OAAO,MAAME,mBAAmB,GAAIC,aAAD,IAAmB,MAAON,QAAP,IAAmB;AACrEO,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAWF,aAAvB;AACA,QAAML,QAAQ,GAAI,MAAMR,UAAU,CAACS,GAAX,CAAe,kBAAgBI,aAA/B,CAAxB;AACAN,EAAAA,QAAQ,CAAC;AACLH,IAAAA,IAAI,EAAG,wBADF;AAELC,IAAAA,OAAO,EAAG;AACNW,MAAAA,gBAAgB,EAAGR,QAAQ,CAACG,IADtB;AAENE,MAAAA,aAAa,EAAGA;AAFV;AAFL,GAAD,CAAR;AAOH,CAVM;AAYP,OAAO,MAAMI,WAAW,GAAG,CAACC,WAAD,EAAaC,MAAb,EAAoBC,KAApB,KAA8B,MAAOb,QAAP,IAAoB;AACzE,QAAMC,QAAQ,GAAG,MAAMR,UAAU,CAACqB,IAAX,CAAgB,kBAAgBH,WAAhB,GAA4B,WAA5C,EAAwD;AAC3EI,IAAAA,IAAI,EAAGH,MADoE;AAE3EC,IAAAA,KAAK,EAAGA;AAFmE,GAAxD,CAAvB;;AAKA,MAAGZ,QAAQ,IAAI,IAAZ,IAAqBA,QAAQ,CAACG,IAAT,CAAcY,KAAd,IAAuB,SAA/C,EAAyD;AACrDhB,IAAAA,QAAQ,CAAC;AACLH,MAAAA,IAAI,EAAG,cADF;AAELC,MAAAA,OAAO,EAAG;AACNe,QAAAA,KAAK,EAAGA;AADF;AAFL,KAAD,CAAR;AAMH,GAPD,MAOM,IAAIZ,QAAQ,IAAI,IAAZ,IAAqBA,QAAQ,CAACG,IAAT,CAAcY,KAAd,IAAuB,QAAhD,EAAyD;AAC3DhB,IAAAA,QAAQ,CAAC;AACLH,MAAAA,IAAI,EAAG,kBADF;AAELC,MAAAA,OAAO,EAAG;AACNmB,QAAAA,OAAO,EAAC;AADF;AAFL,KAAD,CAAR;AAMH;AAEJ,CAtBM","sourcesContent":["import gameserver from '../apis/gameserver'\n\nexport const saveUser = (username, token) => {\n    return {\n        type : \"SAVE_USER\",\n        payload : {\n            username : username,\n            token : token\n        }\n    }\n}\n\nexport const loadLeaderboards = () => async (dispatch) => {\n    const response = await gameserver.get('/leaderboard')\n    dispatch({\n        type : \"LOAD_LEADERBOARDS\",\n        payload : {\n            leaderboards : response.data.leaderboards\n        }    \n    })    \n}\n\n\nexport const loadLeaderboardData = (leaderboardId) => async (dispatch) =>{\n    console.log(\"action :\"+leaderboardId)\n    const response =  await gameserver.get('/leaderboard/'+leaderboardId)\n    dispatch({\n        type : \"LOAD_LEADERBOARDS_DATA\",\n        payload : {\n            leaderboardsData : response.data,\n            leaderboardId : leaderboardId\n        }    \n    })\n}\n\nexport const updateScore = (leaderboard,player,score) => async (dispatch) => {\n    const response = await gameserver.post('/leaderboard/'+leaderboard+'/addScore',{\n        name : player,\n        score : score\n    })\n\n    if(response != null  && response.data.state == \"Success\"){\n        dispatch({\n            type : \"UPDATE_SCORE\",\n            payload : {\n                score : score\n            }\n        })\n    }else if (response != null  && response.data.state == \"Failed\"){\n        dispatch({\n            type : \"SHOW_SCORE_ERROR\",\n            payload : {\n                message:\"error in updating score\"\n            }\n        })\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}